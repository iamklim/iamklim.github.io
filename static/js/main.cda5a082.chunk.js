(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/empty-poster.b9aba793.png"},function(e,t,a){e.exports=a.p+"static/media/emojii-facepalm.60420728.png"},,,,,function(e,t,a){e.exports=a(37)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=(a(25),a(4)),o=a(39),m=a(17),l=a(1),u=a.n(l),p=a(8),d=function(){var e=Object(p.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",console.error("Ajax request error:",e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,a,n){var r="https://api.themoviedb.org/3/movie/now_playing?region=UA&language=ru-RU&api_key=".concat(e);Promise.all([d(r),d("".concat(r,"&page=2"))]).then(function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1],r=a.results,i=n.results,c=r.concat(i);return c.length>39&&(c.length=39),c.forEach(function(e){null===e.poster_path?e.poster=null:e.poster="https://image.tmdb.org/t/p/original"+e.poster_path}),c}).then(function(e){t(e)}).then(function(){a(!0)}).catch(function(){a(!1),n(!0)})},_=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,r){var i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.map(function(){var e=Object(p.a)(u.a.mark(function e(a){var n,r,i,c,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,r="https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(t,"&append_to_response=external_ids,videos&language=ru-RU"),e.next=4,d(r);case 4:return i=e.sent,c=i.videos.results,s="",c.length>0&&"YouTube"===(o=c[c.length-1]).site&&(s="https://www.youtube.com/watch?v=".concat(o.key)),a.imdb_id=i.imdb_id,a.trailer_url=s,a.genres=i.genres,e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:return i=e.sent,e.next=5,Promise.all(i).then(function(e){n(e)}).then(function(){r(!0)});case 5:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,r){var i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.map(function(){var e=Object(p.a)(u.a.mark(function e(a){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.imdb_id,r="https://www.omdbapi.com/?i=".concat(n,"&apikey=").concat(t),e.next=4,d(r);case 4:return i=e.sent,isNaN(i.imdbRating)&&(i.imdbRating="-"),a.imdbRating=i.imdbRating,a.director=i.Director,a.actors=i.Actors,a.metascore=i.Metascore,a.year=i.Year,e.abrupt("return",a);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:return i=e.sent,e.next=5,Promise.all(i).then(function(e){n(e)}).then(function(){r(!0)});case 5:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),v=a(2),h=a(5),E=a(3),g=a(6),w=a(7),j=(a(27),a(28),a(29),a(13)),O=a.n(j),N=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,this.props.movie.genres.map(function(e){return r.a.createElement("div",{key:e.id,className:"item__genre-element"},r.a.createElement("div",{className:"item__genre-icon item__genre-icon--".concat(e.id)}),r.a.createElement("div",{className:"item__genre-name"},e.name))})),t=null!==this.props.movie.poster?this.props.movie.poster:O.a;return r.a.createElement("div",{className:"swiper-slide item"},r.a.createElement("div",{className:"item__description item__title"},r.a.createElement("span",null,"".concat(this.props.movie.title," (").concat(this.props.movie.year,")"))),r.a.createElement("div",{className:"item__img"},r.a.createElement("img",{src:t,alt:"Poster"}),r.a.createElement("div",{className:"item__shadow item__shadow--left"}),r.a.createElement("div",{className:"item__shadow item__shadow--right"}),r.a.createElement("div",{className:"item__description item__marks"},r.a.createElement("div",{className:" item__sidebar item__sidebar--imdb"},r.a.createElement("span",{className:"item__sidebar-title"},"IMDb"),r.a.createElement("span",{className:"item__sidebar-number"},this.props.movie.imdbRating)),!isNaN(this.props.movie.metascore)&&r.a.createElement("div",{className:"item__sidebar item__sidebar--metascore"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},"\u041a\u0440\u0438\u0442\u0438\u043a\u0438"),r.a.createElement("span",{className:"item__sidebar-number"},this.props.movie.metascore+"%")),this.props.movie.trailer_url.length>0&&r.a.createElement("div",{className:"item__sidebar item__sidebar--trailer"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},"\u0422\u0440\u0435\u0439\u043b\u0435\u0440"),r.a.createElement("span",{className:"item__sidebar-icon item__sidebar-icon--youtube"}),r.a.createElement("a",{className:"item__sidebar-link",href:this.props.movie.trailer_url},"Youtube")),r.a.createElement("div",{className:"item__genre"},r.a.createElement("div",{className:"item__sidebar item__genre-box item__genre-box--sm"},e),r.a.createElement("div",{className:"item__sidebar item__genre-box item__genre-box--lg"},e)))),r.a.createElement("div",{className:"item__description item__bottom"},r.a.createElement("div",{className:"item__cast"},r.a.createElement("span",{className:"item__director"},"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440: ",r.a.createElement("span",null,this.props.movie.director)),r.a.createElement("span",{className:"item__actors"},"\u0412 \u0440\u043e\u043b\u044f\u0445: ",r.a.createElement("span",null,this.props.movie.actors))),r.a.createElement("div",{className:"item__overview"},r.a.createElement("span",null,this.props.movie.overview))))}}]),t}(r.a.Component),k=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{class:"swiper-scrollbar"}),r.a.createElement("div",{className:"swiper-wrapper"},this.props.moviesAreSorted&&this.props.movies.map(function(e){return r.a.createElement(N,{key:e.id,movie:e})})))}}]),t}(r.a.Component),y=(a(30),function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__spinner"},r.a.createElement("div",{className:"loader__spinner-square"})))}}]),t}(r.a.Component)),x=(a(31),a(14)),S=a.n(x);var R=function(){return r.a.createElement("div",{className:"error-fallback"},r.a.createElement("div",{className:"error-fallback__content"},r.a.createElement("span",{className:"error-fallback__content-text"},"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0437\u0430\u0432\u0435\u043b\u043e\u0441\u044c ",r.a.createElement("img",{src:S.a,className:"error-fallback__content-icon",alt:"Error icon"})),r.a.createElement("span",{className:"error-fallback__content-text"},"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")))};a(32);var A=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(!1),l=Object(s.a)(c,2),u=l[0],p=l[1],d=Object(n.useState)(!1),v=Object(s.a)(d,2),h=v[0],E=v[1],g=Object(n.useState)(!1),w=Object(s.a)(g,2),j=w[0],O=w[1],N=Object(n.useState)(!1),x=Object(s.a)(N,2),S=x[0],A=x[1],P=Object(n.useState)(!1),C=Object(s.a)(P,2),I=C[0],M=C[1],T=Object(n.useState)(!1),U=Object(s.a)(T,2),Y=U[0],q=U[1],B=Object(n.useState)(!1),D=Object(s.a)(B,2),F=D[0],J=D[1],V="3b07521ea25bf66106a9525b3054c8e9";return Object(n.useEffect)(function(){b(V,i,p,q)},[]),Object(n.useEffect)(function(){u&&a.length&&_(V,a,i,E)},[u]),Object(n.useEffect)(function(){h&&a.length&&f("55018c43",a,i,O)},[h]),Object(n.useEffect)(function(){j&&a.length&&function(){var e=[].concat(a).sort(function(e,t){return e.imdbRating>t.imdbRating?-1:1});i(e),A(!0)}()},[j]),Object(n.useEffect)(function(){S&&a.length&&new m.a(".swiper-container",{effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",mousewheel:!0,keyboard:!0,slideToClickedSlide:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!0},coverflowEffect:{rotate:20,stretch:0,depth:100,modifier:1,slideShadows:!1},on:{init:function(){M(!0)}}})},[S]),Object(n.useEffect)(function(){I&&a.length&&(J(!0),q(!0))},[I]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content ".concat(F&&Y?"content--visible":"")},r.a.createElement("div",{className:"credentials"},r.a.createElement("p",null,"Made by Vladyslav Klymenko"),r.a.createElement("a",{href:"https://www.linkedin.com/in/vladklymenko/"},"LinkedIn"),"\xa0",r.a.createElement("a",{href:"mailto:drkleem@gmail.com"},"drkleem@gmail.com")),r.a.createElement(k,{movies:a,moviesAreSorted:S})),r.a.createElement(o.a,{in:!F&&!Y,timeout:500,classNames:"animation",unmountOnExit:!0},r.a.createElement(y,null)),r.a.createElement(o.a,{in:!F&&Y,timeout:1e3,classNames:"animation",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[19,1,2]]]);
//# sourceMappingURL=main.cda5a082.chunk.js.map