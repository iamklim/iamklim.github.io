(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/empty-poster.b9aba793.png"},function(e,t,a){e.exports=a.p+"static/media/emojii-facepalm.60420728.png"},,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c),s=a(2),o=a(32),l=(a(20),a(1)),m=a.n(l),u=a(4),d=a(3),p=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.error("Request error:",e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(m.a.mark(function e(t,a,n){var r,c,i,o,l,d,b,_,f,v,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://api.themoviedb.org","/3/movie/now_playing"),c="region=".concat("ua"),i="language=".concat("ru"),o="api_key=".concat("3b07521ea25bf66106a9525b3054c8e9"),l="".concat(r,"?").concat(c,"&").concat(i,"&").concat(o),d="".concat("https://image.tmdb.org","/t/p/original"),e.next=9,Promise.all([p(l),p("".concat(l,"&page=2"))]);case 9:b=e.sent,_=Object(s.a)(b,2),f=_[0],v=_[1],(E=[].concat(Object(u.a)(f.results),Object(u.a)(v.results))).forEach(function(e){e.poster_path&&(e.poster="".concat(d).concat(e.poster_path))}),E?(t(E),a(!0)):(a(!1),n()),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),a(!1),n();case 22:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark(function e(t,a,n,r){var c,i,s,o,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(u.a)(t),i="".concat("https://api.themoviedb.org","/3/movie"),s="api_key=".concat("3b07521ea25bf66106a9525b3054c8e9"),o="language=".concat("ru"),"append_to_response=external_ids,videos",e.next=8,Promise.all(c.map(function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(i,"/").concat(t.id,"?").concat(s,"&").concat(o,"&").concat("append_to_response=external_ids,videos"),e.next=3,p(a);case 3:return n=e.sent,(r=n.videos.results).length>0&&"YouTube"===(c=r[r.length-1]).site&&(t.trailerId=c.key),t.imdb_id=n.imdb_id,t.genres=n.genres.length?n.genres:null,e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:(l=e.sent)?(a(l),n(!0)):(n(!1),r()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n(!1),r();case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(m.a.mark(function e(t,a,n,r){var c,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(u.a)(t),i="apikey=".concat("55018c43"),e.next=5,Promise.all(c.map(function(){var e=Object(d.a)(m.a.mark(function e(t){var a,n,r,c,s,o,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.imdbRating="-",a="".concat("https://www.omdbapi.com","/?i=").concat(t.imdb_id,"&").concat(i),e.next=4,p(a);case 4:return"True"===(n=e.sent).Response&&(r=n.imdbRating,c=n.Metascore,s=n.Year,o=n.Director,l=n.Actors,t.imdbRating=isNaN(r)?"-":r,t.metascore=isNaN(c)?null:c,t.year=isNaN(s)?null:s,t.director="N/A"!==o?o:null,t.actors="N/A"!==l?l:null),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:(s=e.sent)?(a(s),n(!0)):(n(!1),r()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n(!1),r();case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),v=function(e,t,a,n){try{var r=Object(u.a)(e);r.sort(function(e,t){return e.imdbRating>t.imdbRating?-1:1}),t(r),a(!0)}catch(c){console.log(c),a(!1),n()}},E=(a(22),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__spinner"},r.a.createElement("div",{className:"loader__spinner-square"})))}),g=a(12),w=(a(23),a(24),a(25),a(10)),h=a.n(w),N=function(e){var t=e.movie,a=e.setShowPopup,n=e.setCurrTrailerId,c=t.genres,i=t.poster,s=t.title,o=t.year,l=t.imdbRating,m=t.metascore,u=t.trailerId,d=t.director,p=t.actors,b=t.overview,_=c?r.a.createElement(r.a.Fragment,null,c.map(function(e){var t=e.id,a=e.name;return r.a.createElement("div",{key:t,className:"item__genre-element"},r.a.createElement("div",{className:"item__genre-icon item__genre-icon--".concat(t)}),r.a.createElement("div",{className:"item__genre-name"},a))})):null,f=i||h.a,v=o?"(".concat(o,")"):"";return r.a.createElement("div",{className:"swiper-slide item"},r.a.createElement("div",{className:"item__description item__title"},r.a.createElement("span",null,"".concat(s," ").concat(v))),r.a.createElement("div",{className:"item__img"},r.a.createElement("img",{src:f,alt:"Poster"}),r.a.createElement("div",{className:"item__shadow item__shadow--left"}),r.a.createElement("div",{className:"item__shadow item__shadow--right"}),r.a.createElement("div",{className:"item__description item__marks"},r.a.createElement("div",{className:" item__sidebar item__sidebar--imdb"},r.a.createElement("span",{className:"item__sidebar-title"},"IMDb"),r.a.createElement("span",{className:"item__sidebar-number"},l)),m&&r.a.createElement("div",{className:"item__sidebar item__sidebar--metascore"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},"\u041a\u0440\u0438\u0442\u0438\u043a\u0438"),r.a.createElement("span",{className:"item__sidebar-number"},"".concat(m,"%"))),u&&r.a.createElement("div",{className:"item__sidebar item__sidebar--trailer"},r.a.createElement("span",{className:"item__sidebar-title item__sidebar-title--sm"},"\u0422\u0440\u0435\u0439\u043b\u0435\u0440"),r.a.createElement("span",{className:"item__sidebar-icon item__sidebar-icon--youtube"}),r.a.createElement("a",{className:"item__sidebar-link","data-trailer-id":u,href:"https://www.youtube.com/watch?v=".concat(u),onClick:function(e){e.preventDefault();var t=e.target.getAttribute("data-trailer-id");n(t),a(!0)}},"Youtube")),_&&r.a.createElement("div",{className:"item__genre"},r.a.createElement("div",{className:"item__sidebar item__genre-box item__genre-box--sm"},_),r.a.createElement("div",{className:"item__sidebar item__genre-box item__genre-box--lg"},_)))),r.a.createElement("div",{className:"item__description item__bottom"},r.a.createElement("div",{className:"item__cast"},d&&r.a.createElement("span",{className:"item__director"},"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440: ",r.a.createElement("span",null,d)),p&&r.a.createElement("span",{className:"item__actors"},"\u0412 \u0440\u043e\u043b\u044f\u0445: ",r.a.createElement("span",null,p))),r.a.createElement("div",{className:"item__overview"},r.a.createElement("span",null,b))))},O=(a(26),a(27),function(e){var t=e.id,a=function(e){e.target.setVolume(100),e.target.playVideo()},c=function(){new window.YT.Player("youtube-player-".concat(t),{videoId:t,height:"100%",width:"100%",autoplay:1,modestbranding:1,rel:0,showinfo:0,playsinline:1,events:{onReady:a}})};return Object(n.useEffect)(function(){if(window.YT)c();else{var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=c;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},[]),r.a.createElement("div",{id:"youtube-player-".concat(t)})}),j=function(e){var t=e.currTrailerUrl,a=e.setShowPopup,c=Object(n.useRef)();return r.a.createElement("div",{className:"video-popup",onClick:function(e){c.current.contains(e.target)||a(!1)}},r.a.createElement("span",{className:"video-popup__content",ref:c},r.a.createElement("div",{className:"video-popup__media"},r.a.createElement(O,{id:t}))))},y=function(e){var t=e.movies,a=e.moviesAreSorted,c=e.onInit,i=Object(n.useState)(!1),l=Object(s.a)(i,2),m=l[0],u=l[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),b=p[0],_=p[1];return Object(n.useEffect)(function(){a&&new g.a(".swiper-container",{effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",mousewheel:{eventsTarged:".item__img"},keyboard:!0,slideToClickedSlide:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},coverflowEffect:{rotate:20,stretch:0,depth:100,modifier:1,slideShadows:!1},on:{init:function(){c(!0)}}})},[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{className:"swiper-scrollbar"}),r.a.createElement("div",{className:"swiper-wrapper"},a&&t.map(function(e){return r.a.createElement(N,{key:e.id,movie:e,setShowPopup:u,setCurrTrailerId:_})}))),r.a.createElement(o.a,{in:m&&b.length>0,timeout:500,classNames:"animation",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(j,{currTrailerUrl:b,setShowPopup:u})))},k=(a(30),a(11)),x=a.n(k),S=function(){return r.a.createElement("div",{className:"error-fallback"},r.a.createElement("div",{className:"error-fallback__content"},r.a.createElement("span",{className:"error-fallback__content-text"},"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0437\u0430\u0432\u0435\u043b\u043e\u0441\u044c ",r.a.createElement("img",{src:x.a,className:"error-fallback__content-icon",alt:"Error icon"})),r.a.createElement("span",{className:"error-fallback__content-text"},"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")))},I=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),m=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),g=p[0],w=p[1],h=Object(n.useState)(!1),N=Object(s.a)(h,2),O=N[0],j=N[1],k=Object(n.useState)(!1),x=Object(s.a)(k,2),I=x[0],T=x[1],P=Object(n.useState)(!1),R=Object(s.a)(P,2),A=R[0],Y=R[1],C=Object(n.useState)(!0),V=Object(s.a)(C,2),B=V[0],D=V[1],F=Object(n.useState)(!1),M=Object(s.a)(F,2),q=M[0],J=M[1],U=function(){D(!1),J(!0)};return Object(n.useEffect)(function(){b(c,u,U)},[]),Object(n.useEffect)(function(){m&&_(a,c,w,U)},[m]),Object(n.useEffect)(function(){g&&f(a,c,j,U)},[g]),Object(n.useEffect)(function(){O&&v(a,c,T,U)},[O]),Object(n.useEffect)(function(){A&&D(!1)},[A]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content ".concat(B||q?"":"content--visible")},r.a.createElement("div",{className:"content__credentials"},r.a.createElement("p",null,"Made by Vladyslav Klymenko"),r.a.createElement("a",{href:"https://www.linkedin.com/in/vladklymenko/"},"linkedIn"),"\xa0",r.a.createElement("a",{href:"mailto:drkleem@gmail.com"},"drkleem@gmail.com")),r.a.createElement(y,{movies:a,moviesAreSorted:I,onInit:Y})),r.a.createElement(o.a,{in:B&&!q,timeout:500,classNames:"animation",unmountOnExit:!0},r.a.createElement(E,null)),r.a.createElement(o.a,{in:!B&&q,timeout:500,classNames:"animation",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(S,null)))};i.a.render(r.a.createElement(I,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.cfb9c2bf.chunk.js.map